<img src="https://github.com/user-attachments/assets/17c9e271-024c-4486-b2c9-615456286009" alt="Microsoft_Windows_7_logotype" width="400" height="230">

<h1>Resetting a Windows 7 Password Using the Sticky Keys Exploit üíª üõ°Ô∏è</h1>

This project demonstrates how to reset a forgotten password on a Windows 7 machine by exploiting the Sticky Keys accessibility feature. This method uses the system's built-in repair option, avoiding the need for external bootable media. We demonstrate the practical steps to exploit Windows accessibility features for password recovery, emphasizing their impact on system security and potential vulnerabilities in older operating systems.

<h2>Environments and Technologies Used</h2>

- Gateway Laptop N214


<h2>Operating Systems Used </h2>

- Windows 7 Home Premium 


<h2>Back Door Configuration Steps (Command Line and GUI)</h2>

### ‚ë† Access the Repair Option Already Installed on the System

Restart your computer and press F8 repeatedly as it boots up to open the Advanced Boot Options menu.
Select "Repair Your Computer" from the list.
Choose your keyboard input method and click "Next."
Log in using an administrative account if prompted.
From the System Recovery Options menu, choose "Command Prompt."
Screenshot Opportunity: Show the Advanced Boot Options menu with the "Repair Your Computer" option.

GUI Explanation:

In this step, you‚Äôre using Windows‚Äô built-in recovery options. You access it by pressing F8 during startup, which brings up a menu where you can choose to repair your computer. This allows you to avoid logging in and directly access system tools, including the Command Prompt.
Step 2: Backup and Replace the sethc.exe File
Command Line Method: In the Command Prompt, navigate to the System32 directory:
bash
Copy code
cd C:\Windows\System32
GUI Method:
Open Windows Explorer by typing explorer.exe in the Command Prompt or by navigating manually after closing the Command Prompt from recovery options.
Navigate to C:\Windows\System32.
Backup the original sethc.exe file:
Command Line Method: Rename the file:
bash
Copy code
ren sethc.exe sethc_backup.exe
GUI Method:
Right-click sethc.exe, select Rename, and rename it to sethc_backup.exe.
Replace sethc.exe with cmd.exe:
Command Line Method:
bash
Copy code
copy cmd.exe sethc.exe
GUI Method:
Right-click cmd.exe and select Copy.
Right-click anywhere in the System32 folder and select Paste.
Rename the copied cmd.exe file to sethc.exe.
Screenshot Opportunity: Display the renaming and replacement of files in the System32 folder using both methods.

### Step 3: Trigger the Command Prompt from the Login Screen
Restart your computer normally.
At the Windows login screen, press the Shift key five times to trigger the Sticky Keys feature.
Instead of Sticky Keys, the Command Prompt will open with SYSTEM privileges.
Screenshot Opportunity: Capture the Command Prompt on the login screen.

GUI Explanation:

This step doesn‚Äôt require navigating the GUI, but it utilizes the accessibility feature in Windows. Pressing the Shift key five times normally activates Sticky Keys, but since we replaced the Sticky Keys executable with cmd.exe, it opens a Command Prompt instead.

### Step 4: Reset the Forgotten Password
Command Line Method: In the Command Prompt, type the following command to list all user accounts:
bash
Copy code
net user
GUI Method:
Alternatively, you could also open Control Panel after logging in with your new password and navigate to User Accounts to change the password.
Reset the password for the desired user account:
Command Line Method:
bash
Copy code
net user [username] [newpassword]
Replace [username] with the account name and [newpassword] with your new password.
GUI Method:
Once logged in, go to Control Panel > User Accounts > Manage Another Account > Change Password.
Screenshot Opportunity: Show the net user command or Control Panel password reset options.

### Step 5: Restore the Original sethc.exe File
Command Line Method: After successfully logging in, open the Command Prompt as an administrator.
GUI Method:
Navigate to the System32 directory again using Windows Explorer.
Restore the original sethc.exe file by renaming the backup:
Command Line Method:
bash
Copy code
del sethc.exe
ren sethc_backup.exe sethc.exe
GUI Method:
Delete the modified sethc.exe file.
Rename the sethc_backup.exe file back to sethc.exe.
Screenshot Opportunity: Show the restoration process in both Command Prompt and Explorer.

## Why This Exploit Works on Windows 7

This exploit works because Windows 7 allows certain system files, such as sethc.exe (used for Sticky Keys), to be executed before user authentication at the login screen. By replacing sethc.exe with cmd.exe, the system unknowingly provides access to a Command Prompt with SYSTEM-level privileges when Sticky Keys is triggered.

## Key Points:
Pre-Login Accessibility: The exploit takes advantage of Windows' pre-login accessibility feature, designed to allow users to access Sticky Keys without logging in.
Privilege Elevation: Replacing sethc.exe with cmd.exe gives you SYSTEM privileges, enabling password resets and other system changes without authentication.
Security Risks and Implications

This method reveals a significant security flaw in Windows 7:

Unauthenticated System Access: Anyone with physical access to the machine can exploit this flaw to gain unauthorized control over the system.
Physical Security: This highlights the importance of protecting physical access to machines running older versions of Windows.
Mitigations in Newer Versions of Windows:
Windows 10/11: Microsoft improved security by implementing Secure Boot, UEFI, and BitLocker encryption, making it much harder to modify system files and exploit vulnerabilities like this one.
Is This Still Possible on Windows 10 or 11?

While this exploit works on Windows 7, it's much harder to execute on Windows 10 or 11 due to enhanced security features:

Secure Boot and UEFI: These features prevent unauthorized modifications to system files, making it more difficult to replace executables like sethc.exe.
BitLocker Encryption: If BitLocker is enabled, you can't access or modify system files without the recovery key.
System File Protection: Windows 10 and 11 have improved system file protection, requiring elevated privileges for system changes.
Possible Workarounds on Windows 10/11:
Third-Party Password Recovery Tools: Specialized tools like PCUnlocker or PassFab 4WinKey can still reset passwords, but they require bootable media and often involve bypassing security measures like UEFI and Secure Boot.
Offline Methods: With physical access, offline password recovery methods might still work, but these are more complex due to added security layers.

## Conclusion

This project demonstrates how the Sticky Keys exploit can be used to reset a password on a Windows 7 machine. While effective on older systems, this method highlights a significant security flaw that has been largely mitigated in modern versions of Windows. Protecting physical access to machines and enabling security features like BitLocker and Secure Boot are essential to preventing unauthorized access.

<h1><p align=center> DONE! Good job! </p></h1>

<h2><p align=center>The Next Demonstration:<br><a href="https://github.com/terikaj/osticket-prereqs"> osTicket: Prerequisites and Installation </a></p></h2>


